import{_ as ce,W as pe}from"./WebLayout-jJXA0URa.js";import{y as me,i as b,a as t,q as f,k as N,o as p,w as a,b as n,u as X,h as _e,d as _,c as g,F as B,K as L,t as l,g as O,L as S}from"./app-5TOWMTuP.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as fe}from"./Checkbox-B74wNlrN.js";import{d as ge,m as be,_ as I,r as he,w as xe,u as Se,I as Ce,b as Y,B as ye,S as ke}from"./index-DqExWMqt.js";import{C as we}from"./index-UAea1zhP.js";import{T as $e}from"./index-CghWTTxU.js";import{_ as ze}from"./index-C35_4-5E.js";import{B as Me}from"./index-izy_gQXG.js";import{L as Be,_ as Le}from"./index-Cg1dldfW.js";import{S as Ie}from"./index-D7r3Jhca.js";import{F as Te,_ as Re}from"./index-D4oznQ0Z.js";import{a as Ee}from"./index-sJYcqMWv.js";import{_ as Pe}from"./index-D9RH_jC4.js";import{a as Ae,_ as De}from"./index-CQ5f6PdM.js";import{_ as Ge}from"./index-06VCM3Vo.js";import"./index-BHZWcIq_.js";import"./move-HXDSRObx.js";import"./index-D4pVccEl.js";import"./isNumeric-DjvBa-1E.js";import"./index-C49kuiz5.js";import"./useBreakpoint-D6coKbvK.js";const He=i=>{const{componentCls:r,sizePaddingEdgeHorizontal:u,colorSplit:v,lineWidth:s}=i;return{[r]:I(I({},he(i)),{borderBlockStart:`${s}px solid ${v}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${i.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${s}px solid ${v}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${i.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${r}-with-text`]:{display:"flex",alignItems:"center",margin:`${i.dividerHorizontalWithTextGutterMargin}px 0`,color:i.colorTextHeading,fontWeight:500,fontSize:i.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${v}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${s}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${r}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${r}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${r}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:v,borderStyle:"dashed",borderWidth:`${s}px 0 0`},[`&-horizontal${r}-with-text${r}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${r}-dashed`]:{borderInlineStartWidth:s,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${r}-with-text`]:{color:i.colorText,fontWeight:"normal",fontSize:i.fontSize},[`&-horizontal${r}-with-text-left${r}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${r}-inner-text`]:{paddingInlineStart:u}},[`&-horizontal${r}-with-text-right${r}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${r}-inner-text`]:{paddingInlineEnd:u}}})}},Ne=ge("Divider",i=>{const r=be(i,{dividerVerticalGutterMargin:i.marginXS,dividerHorizontalWithTextGutterMargin:i.margin,dividerHorizontalGutterMargin:i.marginLG});return[He(r)]},{sizePaddingEdgeHorizontal:0}),Oe=()=>({prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}),Fe=me({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:Oe(),setup(i,r){let{slots:u,attrs:v}=r;const{prefixCls:s,direction:T}=Se("divider",i),[w,C]=Ne(s),$=b(()=>i.orientation==="left"&&i.orientationMargin!=null),z=b(()=>i.orientation==="right"&&i.orientationMargin!=null),R=b(()=>{const{type:m,dashed:h,plain:A}=i,d=s.value;return{[d]:!0,[C.value]:!!C.value,[`${d}-${m}`]:!0,[`${d}-dashed`]:!!h,[`${d}-plain`]:!!A,[`${d}-rtl`]:T.value==="rtl",[`${d}-no-default-orientation-margin-left`]:$.value,[`${d}-no-default-orientation-margin-right`]:z.value}}),E=b(()=>{const m=typeof i.orientationMargin=="number"?`${i.orientationMargin}px`:i.orientationMargin;return I(I({},$.value&&{marginLeft:m}),z.value&&{marginRight:m})}),P=b(()=>i.orientation.length>0?"-"+i.orientation:i.orientation);return()=>{var m;const h=Ce((m=u.default)===null||m===void 0?void 0:m.call(u));return w(t("div",Y(Y({},v),{},{class:[R.value,h.length?`${s.value}-with-text ${s.value}-with-text${P.value}`:"",v.class],role:"separator"}),[h.length?t("span",{class:`${s.value}-inner-text`,style:E.value},[h]):null]))}}}),Ve=xe(Fe),We={class:"topbar"},qe={class:"filters"},Ue={class:"board"},Ke={class:"kpi-wall"},je={class:"kpi-head"},Je={class:"kpi-title"},Xe={class:"kpi-value"},Ye={key:0},Qe={key:1},Ze={class:"kpi-foot"},et={class:"insights"},tt=["innerHTML"],ot={class:"grid-3"},nt={class:"tiles"},at={class:"tile-top"},it={class:"tile-mid"},rt={class:"tile-metric"},lt={class:"tile-foot"},st={class:"funnel"},dt={class:"funnel-label"},ut={class:"funnel-bar"},ct={class:"funnel-val"},pt={class:"funnel-foot"},mt={class:"alerts"},_t=["innerHTML"],vt={class:"cta"},ft={__name:"Gerentes",setup(i){const r=f("Comercial"),u=f({canal:"B2B",periodo:"Ago 2025",region:"Lima"}),v=[{label:"B2B",value:"B2B"},{label:"Retail",value:"Retail"},{label:"eCommerce",value:"eCommerce"}],s=[{label:"Ago 2025",value:"Ago 2025"},{label:"Jul 2025",value:"Jul 2025"},{label:"Jun 2025",value:"Jun 2025"}],T=[{label:"Lima",value:"Lima"},{label:"Norte",value:"Norte"},{label:"Centro",value:"Centro"},{label:"Sur",value:"Sur"}],w=[{key:"ventas",title:"Ventas",prefix:"S/",value:985e3,suffix:"",progress:76,trend:"+12% ↑",trendColor:"green",note:"vs mes anterior"},{key:"margen",title:"Margen",prefix:"",value:22.8,suffix:"%",progress:68,trend:"+0.8pp ↑",trendColor:"green",note:"margen bruto"},{key:"cobranza",title:"Cobranza",prefix:"",value:91,suffix:"%",progress:91,trend:"+6% ↑",trendColor:"green",note:"DSO 42 días"},{key:"otd",title:"On-time delivery",prefix:"",value:96,suffix:"%",progress:96,trend:"+3% ↑",trendColor:"green",note:"SLA rutas"},{key:"rotacion",title:"Rotación inventario",prefix:"",value:7.4,suffix:"x",progress:74,trend:"-0.3x ↓",trendColor:"red",note:"últimos 90 días"},{key:"ticket",title:"Ticket promedio",prefix:"S/",value:182,suffix:"",progress:63,trend:"+5% ↑",trendColor:"green",note:"por pedido"},{key:"devol",title:"Devoluciones",prefix:"",value:1.6,suffix:"%",progress:84,trend:"-0.4pp ↓",trendColor:"green",note:"% sobre ventas"},{key:"oee",title:"OEE planta",prefix:"",value:84,suffix:"%",progress:84,trend:"+2% ↑",trendColor:"green",note:"producción"}],C=f(["ventas","margen","cobranza","otd","ticket","devol","rotacion","oee"]),$=b(()=>w.filter(c=>C.value.includes(c.key))),z=f([{status:"processing",text:"Stock crítico en <b>Bebidas PET</b> — sugiere reposición."},{status:"success",text:"Cobranza alcanzó <b>91%</b> del mes; riesgo bajo."},{status:"warning",text:"Región <b>Sur</b> con OTD 89% — revisar ruteo."}]),R=f([{team:"Lima Norte",vendedor:"Equipo A",ventas:245e3,cumplimiento:108},{team:"Retail Lima",vendedor:"Equipo B",ventas:210500,cumplimiento:102},{team:"Arequipa",vendedor:"Equipo C",ventas:164200,cumplimiento:96},{team:"Trujillo",vendedor:"Equipo D",ventas:139e3,cumplimiento:91}]),E=c=>S("div",{class:"rank-row"},[S("div",{class:"rank-left"},[S("strong",c.team),S("small",` · ${c.vendedor}`)]),S("div",{class:"rank-right"},[S("span",`S/ ${M(c.ventas)}`),S("a-progress",{percent:c.cumplimiento,showInfo:!1})])]),P=f([{cod:"LIM",nombre:"Lima",ventas:52e4,cumplimiento:92,variacion:"+8%",color:"green",ticket:195,otd:97},{cod:"NOR",nombre:"Norte",ventas:21e4,cumplimiento:81,variacion:"+3%",color:"blue",ticket:168,otd:94},{cod:"CEN",nombre:"Centro",ventas:125e3,cumplimiento:74,variacion:"-2%",color:"orange",ticket:152,otd:91},{cod:"SUR",nombre:"Sur",ventas:13e4,cumplimiento:69,variacion:"-4%",color:"volcano",ticket:147,otd:89}]),m=b(()=>r.value==="Finanzas"?[{etapa:"Por vencer",valor:38e4,prefix:"S/",pct:70},{etapa:"Vencido 1-15",valor:12e4,prefix:"S/",pct:40},{etapa:"> 30 días",valor:45e3,prefix:"S/",pct:18}]:[{etapa:"Leads",valor:3200,prefix:"",pct:65},{etapa:"Oportunidades",valor:920,prefix:"",pct:54},{etapa:"Cotizaciones",valor:410,prefix:"",pct:42},{etapa:"Pedidos",valor:180,prefix:"",pct:36}]),h=b(()=>95e4),A=f([{status:"warning",text:"<b>OTD</b> bajó en Sur. Revisar <i>CALLAO-02</i>.",cta:"Ver rutas"},{status:"error",text:"Cliente <b>Retail Norte</b> con <b>vencidos 45d</b>.",cta:"Llamar CxC"},{status:"processing",text:"Compras sugiere <b>reposición</b> en SKU-0891."}]),d=f(!1),k=f({kpis:[...C.value],base:"Mes anterior"}),Q=w.map(c=>({label:c.title,value:c.key})),Z=()=>{d.value=!0},ee=()=>{C.value=[...k.value.kpis],d.value=!1},te=()=>{window.location.href="/snapshot-gerencia.pdf"},F=()=>{window.location.href="/contacto?modulo=app-gerentes"},oe=()=>{window.location.href="/ficha-app-gerentes.pdf"},M=c=>Number(c||0).toLocaleString("es-PE",{maximumFractionDigits:0});return(c,o)=>{const D=fe,V=Pe,x=ye,W=$e,G=Ge,y=we,H=De,q=Ae,U=Me,ne=ze,K=Be,ae=Ve,ie=Ie,j=ke,re=Le,le=Ee,J=Re,se=Te,de=ce;return p(),N(pe,null,{default:a(()=>[t(X(_e),{title:"PRISMA | App Móvil de Gerentes — KPIs, equipos y alertas"}),n("div",We,[o[9]||(o[9]=n("div",{class:"brand"},[n("img",{src:"/logo.png",alt:"PRISMA"}),n("strong",null,"Panel Gerencial")],-1)),n("div",qe,[t(D,{value:u.value.canal,"onUpdate:value":o[0]||(o[0]=e=>u.value.canal=e),options:v,style:{width:"130px"}},null,8,["value"]),t(D,{value:u.value.periodo,"onUpdate:value":o[1]||(o[1]=e=>u.value.periodo=e),options:s,style:{width:"140px"}},null,8,["value"]),t(D,{value:u.value.region,"onUpdate:value":o[2]||(o[2]=e=>u.value.region=e),options:T,style:{width:"150px"}},null,8,["value"]),t(V,{value:r.value,"onUpdate:value":o[3]||(o[3]=e=>r.value=e),options:["Comercial","Operaciones","Finanzas"]},null,8,["value"]),t(x,{type:"primary",onClick:Z},{default:a(()=>o[8]||(o[8]=[_("Configurar KPIs",-1)])),_:1,__:[8]})])]),n("div",Ue,[n("section",Ke,[t(q,{gutter:[12,12]},{default:a(()=>[(p(!0),g(B,null,L($.value,e=>(p(),N(H,{key:e.key,xs:12,md:6},{default:a(()=>[t(y,{hoverable:!0,class:"kpi-card"},{default:a(()=>[n("div",je,[n("span",Je,l(e.title),1),t(W,{color:e.trendColor},{default:a(()=>[_(l(e.trend),1)]),_:2},1032,["color"])]),n("div",Xe,[e.prefix?(p(),g("span",Ye,l(e.prefix),1)):O("",!0),_(l(e.value)+" ",1),e.suffix?(p(),g("small",Qe,l(e.suffix),1)):O("",!0)]),t(G,{percent:e.progress,"show-info":!1},null,8,["percent"]),n("small",Ze,l(e.note),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),n("section",et,[t(ne,{autoplay:""},{default:a(()=>[(p(!0),g(B,null,L(z.value,(e,ue)=>(p(),g("div",{class:"ins-item",key:ue},[t(U,{status:e.status},null,8,["status"]),n("span",{class:"ins-text",innerHTML:e.text},null,8,tt)]))),128))]),_:1})]),n("section",ot,[t(y,{hoverable:!0,title:"Rendimiento de equipos"},{default:a(()=>[t(K,{"data-source":R.value,renderItem:E,bordered:""},null,8,["data-source"])]),_:1}),t(y,{hoverable:!0,title:"Regiones (Heat tiles)"},{default:a(()=>[n("div",nt,[(p(!0),g(B,null,L(P.value,e=>(p(),g("div",{class:"tile",key:e.cod},[n("div",at,[n("strong",null,l(e.nombre),1),t(W,{color:e.color},{default:a(()=>[_(l(e.variacion),1)]),_:2},1032,["color"])]),n("div",it,[n("span",rt,"S/ "+l(M(e.ventas)),1),t(G,{percent:e.cumplimiento,status:"active","show-info":!1},null,8,["percent"])]),n("div",lt,[n("small",null,"Ticket: S/ "+l(M(e.ticket)),1),n("small",null,"OTD: "+l(e.otd)+"%",1)])]))),128))])]),_:1}),t(y,{hoverable:!0,title:"Embudo — "+(r.value==="Finanzas"?"Cobranza":"Ventas")},{default:a(()=>[n("div",st,[(p(!0),g(B,null,L(m.value,e=>(p(),g("div",{key:e.etapa,class:"funnel-row"},[n("div",dt,l(e.etapa),1),n("div",ut,[t(G,{percent:e.pct,"show-info":!1},null,8,["percent"])]),n("div",ct,l(e.prefix)+" "+l(M(e.valor)),1)]))),128))]),t(ae),n("div",pt,[t(ie,{title:"Forecast del mes",value:h.value,prefix:"S/ "},null,8,["value"]),t(x,{type:"link",onClick:te},{default:a(()=>o[10]||(o[10]=[_("Guardar snapshot",-1)])),_:1,__:[10]})])]),_:1},8,["title"])]),n("section",mt,[t(y,{hoverable:!0,title:"Alertas & tareas"},{default:a(()=>[t(K,{"data-source":A.value,bordered:""},{renderItem:a(({item:e})=>[t(re,null,{default:a(()=>[t(U,{status:e.status},null,8,["status"]),n("span",{class:"alert-text",innerHTML:e.text},null,8,_t),t(j,null,{default:a(()=>[e.cta?(p(),N(x,{key:0,size:"small",onClick:F},{default:a(()=>[_(l(e.cta),1)]),_:2},1024)):O("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),n("section",vt,[t(y,{class:"cta-card",hoverable:!0},{default:a(()=>[t(q,{gutter:[16,16],align:"middle"},{default:a(()=>[t(H,{xs:24,md:18},{default:a(()=>o[11]||(o[11]=[n("h3",null,"Decide con datos en tiempo real",-1),n("p",null,"KPIs, equipos, regiones y alertas en una sola app para gerentes.",-1)])),_:1,__:[11]}),t(H,{xs:24,md:6,class:"cta-actions"},{default:a(()=>[t(x,{type:"primary",size:"large",block:"",onClick:F},{default:a(()=>o[12]||(o[12]=[_("Probar demo",-1)])),_:1,__:[12]}),t(x,{size:"large",block:"",onClick:oe},{default:a(()=>o[13]||(o[13]=[_("Ficha técnica",-1)])),_:1,__:[13]})]),_:1})]),_:1})]),_:1})])]),t(de,{open:d.value,"onUpdate:open":o[7]||(o[7]=e=>d.value=e),title:"Configurar KPIs visibles",placement:"right",width:"420"},{default:a(()=>[t(se,{layout:"vertical"},{default:a(()=>[t(J,{label:"Selecciona KPIs"},{default:a(()=>[t(le,{value:k.value.kpis,"onUpdate:value":o[4]||(o[4]=e=>k.value.kpis=e),options:X(Q)},null,8,["value","options"])]),_:1}),t(J,{label:"Comparar contra"},{default:a(()=>[t(V,{value:k.value.base,"onUpdate:value":o[5]||(o[5]=e=>k.value.base=e),options:["Mes anterior","Mismo mes año pasado","Meta"]},null,8,["value"])]),_:1}),t(j,{style:{width:"100%"},direction:"vertical"},{default:a(()=>[t(x,{type:"primary",block:"",onClick:ee},{default:a(()=>o[14]||(o[14]=[_("Aplicar",-1)])),_:1,__:[14]}),t(x,{block:"",onClick:o[6]||(o[6]=e=>d.value=!1)},{default:a(()=>o[15]||(o[15]=[_("Cerrar",-1)])),_:1,__:[15]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}},Ht=ve(ft,[["__scopeId","data-v-e9bfa86a"]]);export{Ht as default};
