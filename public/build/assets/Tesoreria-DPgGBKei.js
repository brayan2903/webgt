import{_ as te,W as se}from"./WebLayout-jJXA0URa.js";import{q as b,i as A,k as U,o as r,w as a,a as o,b as t,u as ne,h as le,d as s,c,g as v,F as R,K as M,t as d}from"./app-5TOWMTuP.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as re,B as de}from"./index-DqExWMqt.js";import{C as ue,T as ce,_ as me}from"./index-UAea1zhP.js";import{S as _e}from"./index-D7r3Jhca.js";import{B as pe}from"./index-izy_gQXG.js";import{D as fe,a as ve}from"./index-9inugO6y.js";import{C as ge,_ as be}from"./index-D4pVccEl.js";import{F as ye,_ as Ce}from"./index-D4oznQ0Z.js";import{R as Se}from"./index-DKhQ0pA1.js";import{T as Pe}from"./index-CghWTTxU.js";import{a as xe,_ as ke}from"./index-CQ5f6PdM.js";import{_ as Ae}from"./index-D9RH_jC4.js";import{_ as Te}from"./index-06VCM3Vo.js";import{_ as Fe}from"./index-DnMVvX_5.js";import{_ as we}from"./index-CKk4TFhy.js";import{_ as Ie}from"./index-DjFOFqdV.js";import"./index-BHZWcIq_.js";import"./move-HXDSRObx.js";import"./isNumeric-DjvBa-1E.js";import"./index-C49kuiz5.js";import"./index-sJYcqMWv.js";import"./Checkbox-B74wNlrN.js";import"./useBreakpoint-D6coKbvK.js";import"./index-B6WnRDXT.js";import"./index-DqbpODE0.js";const ze={class:"hero-cash"},je={class:"hero-controls"},Le={class:"bullets"},Ee={key:0},Re={key:1},Be={key:2},De={key:3},Ue={key:4},Me={key:5},Ne={class:"liquidity"},qe={class:"kpi-block"},Ve={class:"bars"},he={class:"bar"},Oe={class:"bar"},Ke={class:"calendar"},$e={class:"calendar-list"},We={class:"cal-text"},Xe={class:"cal-monto"},Ge={class:"tabs"},Je={style:{"margin-left":"6px"}},Qe={class:"run-footer"},He={class:"kpi-inline"},Ye={class:"faq"},Ze={class:"cta"},eo={class:"sim-out"},oo={__name:"Tesoreria",setup(ao){const _=b("CxC"),C=b(!1),N=b([{fecha:"2025-08-12",fechaLabel:"Mar 12",items:[{tipo:"CxC",doc:"FAC-001245",clienteProveedor:"Cliente Andina",moneda:"S/",monto:"8,450"},{tipo:"CxP",doc:"OC-00981",clienteProveedor:"Proveedor Lima",moneda:"S/",monto:"5,200"}]},{fecha:"2025-08-13",fechaLabel:"Mié 13",items:[{tipo:"CxC",doc:"FAC-001251",clienteProveedor:"Retail Norte",moneda:"S/",monto:"12,300"},{tipo:"CxP",doc:"FAC-P 773",clienteProveedor:"Servicios SAC",moneda:"US$",monto:"1,100"}]},{fecha:"2025-08-14",fechaLabel:"Jue 14",items:[{tipo:"CxC",doc:"FAC-001260",clienteProveedor:"Farmacias Sur",moneda:"S/",monto:"3,950"}]}]),B=b([{id:1,proveedor:"Proveedor Lima",doc:"FAC-P 773",vence:"12/08",moneda:"S/",importe:5200,detraccion:!0,estado:"Pendiente"},{id:2,proveedor:"Servicios SAC",doc:"FAC-P 774",vence:"13/08",moneda:"US$",importe:1100,detraccion:!1,estado:"Pendiente"},{id:3,proveedor:"Logística Andina",doc:"FAC-P 775",vence:"14/08",moneda:"S/",importe:2800,detraccion:!1,estado:"Aprobado"},{id:4,proveedor:"Seguridad SRL",doc:"FAC-P 776",vence:"15/08",moneda:"S/",importe:1500,detraccion:!0,estado:"Pendiente"}]),q=[{title:"Proveedor",dataIndex:"proveedor",key:"proveedor"},{title:"Documento",dataIndex:"doc",key:"doc"},{title:"Vence",dataIndex:"vence",key:"vence"},{title:"Moneda",dataIndex:"moneda",key:"moneda"},{title:"Importe",dataIndex:"importe",key:"importe"},{title:"Detracción",dataIndex:"detraccion",key:"detraccion",customRender:({text:p})=>p?"Sí":"No"},{title:"Estado",dataIndex:"estado",key:"estado"}],S=b([]),V=p=>{S.value=p},h=A(()=>{const p=new Set(S.value);return B.value.filter(e=>p.has(e.id)).reduce((e,I)=>e+Number(I.importe||0),0).toLocaleString("es-PE",{minimumFractionDigits:2})}),O={Pendiente:"processing",Aprobado:"success",Observado:"warning"},l=b({saldo:15e4,ingresos:85e3,egresos:72e3,buffer:10}),K=A(()=>(l.value.ingresos-l.value.egresos).toLocaleString("es-PE",{minimumFractionDigits:2})),T=A(()=>(l.value.saldo+(l.value.ingresos-l.value.egresos)).toLocaleString("es-PE",{minimumFractionDigits:2})),F=A(()=>(l.value.saldo*(l.value.buffer/100)).toLocaleString("es-PE",{minimumFractionDigits:2})),$=()=>{C.value=!0},w=()=>{window.location.href="/contacto?modulo=tesoreria"},W=()=>{window.location.href="/plantilla-flujo-caja.xlsx"};return(p,e)=>{const I=Ae,f=de,z=re,i=ke,u=ue,g=xe,y=_e,j=Te,D=pe,X=Fe,G=we,L=ve,J=fe,E=me,Q=ce,P=be,H=ge,x=Ie,k=Ce,Y=Pe,Z=Se,ee=ye,oe=te;return r(),U(se,null,{default:a(()=>[o(ne(le),{title:"ERP PRISMA | Tesorería — Liquidez, pagos y conciliación bancaria"}),t("section",ze,[o(g,{gutter:[24,24],align:"middle"},{default:a(()=>[o(i,{xs:24,lg:14},{default:a(()=>[e[9]||(e[9]=t("h1",{class:"hero-title"},"Tesorería PRISMA",-1)),e[10]||(e[10]=t("p",{class:"hero-subtitle"},[s(" Proyecta tu "),t("strong",null,"flujo de caja"),s(", programa pagos con aprobaciones, optimiza cobranzas y concilia bancos con precisión. Integrado con Ventas, Compras, Contabilidad y Facturación Electrónica SUNAT. ")],-1)),t("div",je,[o(I,{value:_.value,"onUpdate:value":e[0]||(e[0]=n=>_.value=n),options:["CxC","CxP","Bancos"],size:"large"},null,8,["value"]),o(z,null,{default:a(()=>[o(f,{type:"primary",size:"large",onClick:w},{default:a(()=>e[7]||(e[7]=[s("Solicitar demo",-1)])),_:1,__:[7]}),o(f,{size:"large",ghost:"",onClick:$},{default:a(()=>e[8]||(e[8]=[s("Simular flujo",-1)])),_:1,__:[8]})]),_:1})]),t("ul",Le,[_.value==="CxC"?(r(),c("li",Ee,"Cartera por tramo (0-30/31-60/61-90/+90) y promesas de pago.")):v("",!0),_.value==="CxC"?(r(),c("li",Re,"Recordatorios automáticos y WhatsApp/email con estado.")):v("",!0),_.value==="CxP"?(r(),c("li",Be,"Corrida de pagos por prioridad, descuentos y detracciones.")):v("",!0),_.value==="CxP"?(r(),c("li",De,"Flujos de aprobación multinivel y archivos bancarios (TXT).")):v("",!0),_.value==="Bancos"?(r(),c("li",Ue,"Conciliación automática por referencia y reglas.")):v("",!0),_.value==="Bancos"?(r(),c("li",Me,"Saldos consolidados multi-moneda y posiciones diarias.")):v("",!0)])]),_:1,__:[9,10]}),o(i,{xs:24,lg:10},{default:a(()=>[o(u,{hoverable:!0,class:"hero-card",bodyStyle:{padding:0}},{default:a(()=>e[11]||(e[11]=[t("img",{src:"/logo.png",class:"hero-image",alt:"Tablero de Tesorería PRISMA"},null,-1),t("div",{class:"ribbon"},"Liquidez en tiempo real",-1)])),_:1,__:[11]})]),_:1})]),_:1})]),t("section",Ne,[o(g,{gutter:[16,16]},{default:a(()=>[o(i,{xs:24,md:8},{default:a(()=>[o(u,{hoverable:!0,title:"Posición de caja (hoy)"},{default:a(()=>[t("div",qe,[o(y,{title:"Soles (S/)",value:425e3}),o(y,{title:"Dólares (US$)",value:132e3})]),o(j,{percent:82,status:"active"}),e[12]||(e[12]=t("small",null,"Objetivo de liquidez mensual alcanzado",-1))]),_:1,__:[12]})]),_:1}),o(i,{xs:24,md:8},{default:a(()=>[o(u,{hoverable:!0,title:"Ingresos vs Egresos (semana)"},{default:a(()=>[t("div",Ve,[t("div",he,[e[13]||(e[13]=t("span",null,"Ingresos",-1)),o(j,{percent:70})]),t("div",Oe,[e[14]||(e[14]=t("span",null,"Egresos",-1)),o(j,{percent:55})])]),e[15]||(e[15]=t("small",null,"Basado en vencimientos y previsiones",-1))]),_:1,__:[15]})]),_:1}),o(i,{xs:24,md:8},{default:a(()=>[o(u,{hoverable:!0,title:"Alertas"},{default:a(()=>e[16]||(e[16]=[t("ul",{class:"ul"},[t("li",null,"Clientes > 60 días: 12"),t("li",null,"Facturas con detracción hoy: 4"),t("li",null,"Pagos con pronto pago vigente: 3")],-1)])),_:1,__:[16]})]),_:1})]),_:1})]),t("section",Ke,[e[17]||(e[17]=t("h2",{class:"section-title"},"Vencimientos de la semana",-1)),o(g,{gutter:[16,16]},{default:a(()=>[(r(!0),c(R,null,M(N.value,n=>(r(),U(i,{key:n.fecha,xs:24,md:8},{default:a(()=>[o(u,{title:n.fechaLabel,hoverable:!0},{default:a(()=>[t("ul",$e,[(r(!0),c(R,null,M(n.items,(m,ae)=>(r(),c("li",{key:ae},[o(D,{status:m.tipo==="CxC"?"success":"processing"},null,8,["status"]),t("span",We,d(m.tipo)+" — "+d(m.doc)+" — "+d(m.clienteProveedor),1),t("strong",Xe,d(m.moneda)+" "+d(m.monto),1)]))),128))])]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})]),t("section",Ge,[o(Q,{"default-active-key":"pagos",size:"large"},{default:a(()=>[o(E,{key:"pagos",tab:"Corrida de pagos (CxP)"},{default:a(()=>[o(X,{type:"info","show-icon":"",message:"Selecciona facturas a pagar; respeta topes de caja, descuentos, detracciones y flujos de aprobación.",style:{"margin-bottom":"12px"}}),o(G,{"data-source":B.value,columns:q,"row-key":"id",pagination:{pageSize:5},size:"middle","row-selection":{selectedRowKeys:S.value,onChange:V}},{bodyCell:a(({column:n,record:m})=>[n.dataIndex==="estado"?(r(),c(R,{key:0},[o(D,{status:O[m.estado]||"default"},null,8,["status"]),t("span",Je,d(m.estado),1)],64)):v("",!0)]),_:1},8,["data-source","row-selection"]),t("div",Qe,[o(J,{size:"small",bordered:"",column:3},{default:a(()=>[o(L,{label:"Seleccionadas"},{default:a(()=>[s(d(S.value.length),1)]),_:1}),o(L,{label:"Total a pagar (S/)"},{default:a(()=>[s("S/ "+d(h.value),1)]),_:1}),o(L,{label:"Impacto en caja"},{default:a(()=>e[18]||(e[18]=[s("OK",-1)])),_:1,__:[18]})]),_:1}),o(z,null,{default:a(()=>[o(f,{type:"primary",onClick:p.aprobarPagos},{default:a(()=>e[19]||(e[19]=[s("Enviar a aprobación",-1)])),_:1,__:[19]},8,["onClick"]),o(f,{onClick:p.generarArchivo},{default:a(()=>e[20]||(e[20]=[s("Generar archivo bancario",-1)])),_:1,__:[20]},8,["onClick"])]),_:1})])]),_:1}),o(E,{key:"cobranzas",tab:"Cobranzas (CxC)"},{default:a(()=>[o(g,{gutter:[16,16]},{default:a(()=>[o(i,{xs:24,md:12},{default:a(()=>[o(u,{title:"Acciones rápidas",hoverable:!0},{default:a(()=>e[21]||(e[21]=[t("ul",{class:"ul"},[t("li",null,"Enviar recordatorio a clientes con 31-60 días"),t("li",null,"Programar promesa de pago"),t("li",null,"Registrar cobranza / conciliación")],-1)])),_:1,__:[21]})]),_:1}),o(i,{xs:24,md:12},{default:a(()=>[o(u,{title:"KPIs de cobranza",hoverable:!0},{default:a(()=>[t("div",He,[o(y,{title:"DSO",value:42,suffix:"días"}),o(y,{title:"Efectividad",value:93,suffix:"%"}),o(y,{title:"Promesas activas",value:18})])]),_:1})]),_:1})]),_:1})]),_:1}),o(E,{key:"bancos",tab:"Conciliación bancaria"},{default:a(()=>[o(g,{gutter:[16,16]},{default:a(()=>[o(i,{xs:24,md:12},{default:a(()=>[o(u,{title:"Conciliación automática",hoverable:!0},{default:a(()=>e[22]||(e[22]=[t("ul",{class:"ul"},[t("li",null,"Importa movimientos (CSV/TXT) de tus bancos."),t("li",null,"Match por monto, fecha y referencia con reglas."),t("li",null,"Partidas abiertas, diferencias y asientos sugeridos.")],-1)])),_:1,__:[22]})]),_:1}),o(i,{xs:24,md:12},{default:a(()=>[o(u,{title:"Posición multicuenta",hoverable:!0},{default:a(()=>e[23]||(e[23]=[t("ul",{class:"ul"},[t("li",null,"Cuentas en S/ y US$ con TC del día."),t("li",null,"Fondos restringidos y líneas de crédito."),t("li",null,"Inversiones y préstamos (intereses/costeo).")],-1)])),_:1,__:[23]})]),_:1})]),_:1})]),_:1})]),_:1})]),t("section",Ye,[e[28]||(e[28]=t("h2",{class:"section-title"},"Preguntas frecuentes",-1)),o(H,{accordion:""},{default:a(()=>[o(P,{key:"1",header:"¿Generan archivos bancarios para pago masivo?"},{default:a(()=>e[24]||(e[24]=[s(" Sí, exporta TXT/CSV según formato del banco y registra el pago automáticamente. ",-1)])),_:1,__:[24]}),o(P,{key:"2",header:"¿Maneja detracciones, percepciones y retenciones?"},{default:a(()=>e[25]||(e[25]=[s(" Totalmente. Parametriza reglas SUNAT y liquida desde la corrida de pagos. ",-1)])),_:1,__:[25]}),o(P,{key:"3",header:"¿Flujo de aprobaciones?"},{default:a(()=>e[26]||(e[26]=[s(" Aprobaciones multinivel por monto, centro de costo y proveedor, con auditoría. ",-1)])),_:1,__:[26]}),o(P,{key:"4",header:"¿Multi-moneda y tipo de cambio?"},{default:a(()=>e[27]||(e[27]=[s(" Sí, posición consolidada, reevaluación y diferencias de cambio automáticas. ",-1)])),_:1,__:[27]})]),_:1})]),t("section",Ze,[o(u,{class:"cta-card",hoverable:!0},{default:a(()=>[o(g,{gutter:[16,16],align:"middle"},{default:a(()=>[o(i,{xs:24,md:18},{default:a(()=>e[29]||(e[29]=[t("h3",null,"Liquidez bajo control",-1),t("p",null,"Agenda una demo y recibe una plantilla de flujo de caja en Excel.",-1)])),_:1,__:[29]}),o(i,{xs:24,md:6,class:"cta-actions"},{default:a(()=>[o(f,{type:"primary",size:"large",block:"",onClick:w},{default:a(()=>e[30]||(e[30]=[s("Agendar demo",-1)])),_:1,__:[30]}),o(f,{size:"large",block:"",onClick:W},{default:a(()=>e[31]||(e[31]=[s("Descargar plantilla",-1)])),_:1,__:[31]})]),_:1})]),_:1})]),_:1})]),o(oe,{open:C.value,"onUpdate:open":e[6]||(e[6]=n=>C.value=n),title:"Simulador de flujo de caja (demo)",placement:"right",width:"420"},{default:a(()=>[o(ee,{layout:"vertical"},{default:a(()=>[o(k,{label:"Saldo inicial (S/)"},{default:a(()=>[o(x,{style:{width:"100%"},min:0,value:l.value.saldo,"onUpdate:value":e[1]||(e[1]=n=>l.value.saldo=n)},null,8,["value"])]),_:1}),o(k,{label:"Ingresos estimados (semana)"},{default:a(()=>[o(x,{style:{width:"100%"},min:0,value:l.value.ingresos,"onUpdate:value":e[2]||(e[2]=n=>l.value.ingresos=n)},null,8,["value"])]),_:1}),o(k,{label:"Egresos estimados (semana)"},{default:a(()=>[o(x,{style:{width:"100%"},min:0,value:l.value.egresos,"onUpdate:value":e[3]||(e[3]=n=>l.value.egresos=n)},null,8,["value"])]),_:1}),o(k,{label:"Alm. de seguridad (%)"},{default:a(()=>[o(x,{style:{width:"100%"},min:0,max:100,value:l.value.buffer,"onUpdate:value":e[4]||(e[4]=n=>l.value.buffer=n)},null,8,["value"])]),_:1}),o(Z,{status:"success",title:"Resultado"},{subTitle:a(()=>[t("div",eo,[t("div",null,[e[32]||(e[32]=t("strong",null,"Flujo neto:",-1)),s(" S/ "+d(K.value),1)]),t("div",null,[e[33]||(e[33]=t("strong",null,"Saldo proyectado:",-1)),s(" S/ "+d(T.value),1)]),t("div",null,[e[34]||(e[34]=t("strong",null,"Mínimo con buffer:",-1)),s(" S/ "+d(F.value),1)]),t("div",null,[e[35]||(e[35]=t("strong",null,"Estado:",-1)),e[36]||(e[36]=s()),o(Y,{color:T.value>=F.value?"green":"red"},{default:a(()=>[s(d(T.value>=F.value?"OK":"Riesgo"),1)]),_:1},8,["color"])])])]),_:1}),o(z,{style:{width:"100%"},direction:"vertical"},{default:a(()=>[o(f,{type:"primary",block:"",onClick:w},{default:a(()=>e[37]||(e[37]=[s("Quiero implementar Tesorería",-1)])),_:1,__:[37]}),o(f,{block:"",onClick:e[5]||(e[5]=n=>C.value=!1)},{default:a(()=>e[38]||(e[38]=[s("Cerrar",-1)])),_:1,__:[38]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}},jo=ie(oo,[["__scopeId","data-v-04575cb8"]]);export{jo as default};
